<html>
  <head>

    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no,user-scalable=no,maximum-scale=1"/>

    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>

    <script src="https://unpkg.com/aframe-environment-component@1.3.1/dist/aframe-environment-component.min.js"></script>
    <script src="https://supereggbert.github.io/aframe-htmlembed-component/dist/build.js"></script>
    <script src="/vendors/aframe/aframe-extras.6.1.1.js"></script>

    <script src="/js/logger.js"></script>
    <script src="/js/handle/vr.js"></script>
    <script src="/js/player.js"></script>
    <script src="./widget-list-menu.js"></script>
    

    <style type="text/css">
        .menu-setup-environment {
            font-family: verdana;
            border-radius:5px;
            width:400px;
            overflow:hidden;
            color: #F0F0F0;
            font-size:20px;
            padding:5px;
            border:1px solid black;
            background-color:#070707EE;
        }

        .menu-setup-environment > div {
            border-radius:9px;
            padding:3px;
            margin:2px;
            text-align:center;
            border:1px solid transparent;
            line-height:28px;
            height:28px;
            padding-bottom:2px;
        }

        .menu-setup-environment > div:hover {
            background-color:rgba(0,0,200,0.1);
        }

        .menu-setup-environment > div:active {
            background-color:rgba(0,0,200,0.1);
            border:1px solid blue;
        }

        .menu-setup-environment > div.selected {
            background-color:rgba(0,0,200,0.1);
            border:1px solid blue;
        }

    </style>

</head>
  <body>
    <a-scene 
        id="scene"
        log="console: true" 
        background="color: #222222"
        stats="false"
        environment="preset:tron;playArea:10" 
        cursor="rayOrigin:mouse;"
        renderer="antialias: true; colorManagement: true;physicallyCorrectLights: false;"
        handle-mouse
        handle-keyboard
        >

        <a-mixin id="mixin-raycaster" raycaster="objects:.clickable;far:100;lineColor:white;lineOpacity:0.9"></a-mixin>

        <a-entity light="type:ambient;color:#FFFFFF;intensity:0.1"></a-entity>
        <a-entity light="type:point;color:#FFFFFF;intensity:1;" position="0 1.8 -2"></a-entity>

        <a-entity widget-list-menu="contentId:#widget-list-menu-environment;itemsPath:div[value]" position="-1 1.6 -1.2" class="clickable"></a-entity>

        <!-- debug log -->
        <a-entity log="max:10" position="1.5 1.6 -1" geometry="primitive: plane" material="opacity:0.4;color:blue"></a-entity>

        <a-entity id="player" player movement-controls="constrainToNavMesh: true; speed: 0.18" position="0 0 0">
            <a-camera id="camera" wasd-controls="acceleration:20" look-controls="pointerLockEnabled: false" position="0 1.6 0"></a-camera>

            <a-entity id="leftHand" laser-controls="hand:left;" mixin="mixin-raycaster" handle-vr></a-entity>
            <a-entity id="rightHand" laser-controls="hand:right;" mixin="mixin-raycaster" handle-vr></a-entity>

        </a-entity>

    </a-scene>
    
    <div id="widget-list-menu-environment" style="display:none">
        <div class="menu-setup-environment">
            <p>Choose your environnement</p>
            <div value="default">Default</div>
            <div value="contact">Contact</div>
            <div value="egypt">Egypt</div>
            <div value="checkerboard">Checkerboard</div>
            <div value="forest">Forest</div>
            <div value="goaland">Goaland</div>
            <div value="yavapai">Yavapai</div>
            <div value="goldmine">Goldmine</div>
            <div value="threetowers">Threetowers</div>
            <div value="poison">Poison</div>
            <div value="arches">Arches</div>
            <div value="tron">Tron</div>
            <div value="japan">Japan</div>
            <div value="dream">Dream</div>
            <div value="volcano">Volcano</div>
            <div value="starry">Starry</div>
            <div value="osiris">Osiris</div>
            <div value="moon">Moon</div>
        </div>
    </div>

  </body>
</html>